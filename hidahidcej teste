#include<iostream>
#include<math.h>

using namespace std;

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void comeco(int numAnel, int *Pino1, int *Pino2, int *Pino3, int *anel){
          for(int i=1; i<=numAnel;i++){
            anel[i]=numAnel-i+1;
        }
        for(int i=0; i<=numAnel+2;i++){
            if(i<=numAnel){
            Pino1[i]=anel[numAnel-i+1];
            }
            if(i>numAnel){
                Pino1[i]=0;
            }
            Pino2[i]=0;
            Pino3[i]=0;
            if(i==numAnel+1){
            Pino1[i]=8;
            Pino2[i]=8;
            Pino3[i]=8;
            }
        }
        cout<<"A ordem dos aneis no pino um e"<<endl;
            for(int i=0; i<=numAnel+1;i++){
                cout<<Pino1[i]<<"   "<<Pino2[i]<<"   "<<Pino3[i]<<endl;
            }  
}
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void jogada(int numAnel, int *Pino1, int *Pino2, int *Pino3, int *anel){
    int joAnel, joPino, dispo;
        cin>>joAnel;

        if(joAnel>numAnel || joAnel<1){
            do{
                cout<<"Digite novamente"<<endl;
                cin>>joAnel;
            }while(joAnel>numAnel || joAnel<1);
          }
          
        for(int i=0; i<numAnel; i++){
            if(Pino1[i]==joAnel){
                Pino1[i+1]=dispo;
                break;
            }
        }

        if(dispo!=0){
            do{
                cout<<"Jogada invalida. Ha outro disco a cima do disco "<<joAnel<<" . Esolha novamente"<<endl;
                cin>>joAnel;
            for(int i=0; i<numAnel; i++){
                if(Pino1[i]==joAnel){
                    Pino1[i+1]=dispo;
                        break;
                    }
                }
            }while(dispo!=0);
        }

}
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

int main(){
    int numAnel;
        cout<<"Quantos aneis vao ser inseridos para o jogo?"<<endl;
        cout<<"OBS: max de 7 e min de 3"<<endl;
            cin>>numAnel;
        if(numAnel<3 || numAnel>7){
            do{
                cout<<"Escolha novamente"<<endl;
                    cin>>numAnel;
            }while(numAnel<3 || numAnel>7);
        }
        int Pino1[numAnel+2], Pino2[numAnel+2], Pino3[numAnel+2], anel[numAnel];
            comeco(numAnel, Pino1, Pino2, Pino3,anel);
        cout<<"A jogada deve ser realizada selecionando o ANEL que vc deseja mover e, apos isso, para qual PINO deseja mover"<<endl;
        cout<<"Qual jogada deve ser feita?"<<endl;
            jogada(numAnel, Pino1, Pino2, Pino3,anel);
}


