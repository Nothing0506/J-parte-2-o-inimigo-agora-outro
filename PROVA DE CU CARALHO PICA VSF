 #include<iostream>

    using namespace std;

    const int MAX=10;


float MLinha(float A[][MAX], int n, int k, int coluna){
    float *SalvaLinha[n],Constante,resul;
    resul=0;
    Constante=0;
        for(int i=0; i<n; i++){
            SalvaLinha[i]=&A[k][i];
        }
    for(int i=k-1; i<=k+1; i++){
        if(i<0){
            *SalvaLinha[0]=0;
        }
        if(i>0){
            if(coluna==k && k==i){
                *SalvaLinha[i]=0;
            }else{
            Constante=*SalvaLinha[i];
            Constante=Constante*0.15;
            resul=resul+Constante;
            }
        }
    }
    return resul;
}

float MColuna(float A[][MAX], int n, int k, int coluna){
    float *Salvacoluna[n],Constante,resul;
    resul=0;
    Constante=0;
        for(int i=0; i<n; i++){
            Salvacoluna[i]=&A[i][k];
        }
    for(int i=k-1; i<=k+1; i++){
        if(i<0){
            *Salvacoluna[0]=0;
        }
        if(i>0){
            if(k==coluna && coluna==i){
                *Salvacoluna[i]=0;
            }else{
            Constante=*Salvacoluna[i];
            Constante=Constante*0.15;
            resul=resul+Constante;
            }
        }
    }
    return resul;
}

float resto(float A[][MAX], int n, int k, int coluna){
    float *pLinha[MAX], Constante, resul, auxi;
    resul=0;
    Constante=0;
    
int controle;
controle=k-1;
    do{
        cout<<"CONTROLE AGORA E "<<controle<<endl;
        if(controle<0){
            for(int i=k-1; i<k+2; i++){
                auxi=0;
                pLinha[i]=&auxi;
                cout<<"AQUI DEU ZERO ccccc"<<*pLinha[i]<<endl;
            }
             controle++;
        }
        
        cout<<"CONTROLE AGORA E "<<controle<<endl;

        if(controle>=0){
            if(controle==k ||controle==coluna){
                for(int i=k-1; i<k+2; i++){
                    auxi=0;
                    pLinha[i]=&auxi;
                    cout<<"AQUI DEU ZERO aaa"<<*pLinha[i]<<endl;
                }
                controle++;
            }
            if(controle!=k && controle!=coluna){ 
                for(int i=k-1; i<k+2; i++){
                    if(i==k || i==coluna){
                        auxi=0;
                        pLinha[i]=&auxi;
                    }else{
                    pLinha[i]=&A[controle][i];
                    cout<<"AQUI DEU OUTRA COISA bbbbb"<<*pLinha[i]<<endl;
                    }
                }
            }
        }

        if(controle>n){
            for(int i=0; i<n; i++){
                auxi=0;
                pLinha[i]=&auxi;
                cout<<"AQUI DEU ZERO"<<*pLinha[i]<<endl;
            }
        }
            cout<<"CONTROLE AGORA E "<<controle<<endl;
        for(int j=1; j<2; j++){
                Constante=(*pLinha[j]);
                Constante=Constante*0.1;
                resul=resul+Constante;
                cout<<"AAAAAAAAAAA "<<resul<<endl;
            }
        controle++;
        cout<<"CHEGOU AQUI"<<endl;
    }while(controle<k+2);
    return resul;
}

void B(float A[][MAX], int n){
        float B[MAX][MAX],Bfinal;
            Bfinal=0;
            for(int k=0; k<n; k++){ 
                for(int coluna=0; coluna<n; coluna++){
                        Bfinal=MLinha(A,n,k,coluna)+Bfinal;
                        Bfinal=Bfinal+MColuna(A,n,k,coluna);
                        Bfinal=Bfinal+resto(A,n,k,coluna);
                        B[k][coluna]=Bfinal;
                        Bfinal=0;
            }
    }
        cout<<endl<<endl;
        cout<<"A matriz B foi definida e sua forma e:"<<endl;
            for(int k=0; k<n; k++){ 
                for(int coluna=0; coluna<n; coluna++){
                       cout<<B[k][coluna]<<" ";
            }
            cout<<endl;
    }
}


    int main(){
        int n;
            cout<<"Qual a dimensao da matriz?"<<endl;
                cin>>n;
            if(n>MAX){
                do{
                    cout<<"Digite novamente"<<endl;
                        cin>>n;
                }while(n>MAX);
            }
        float A[MAX][MAX];
            cout<<"Digite os dados da matriz"<<endl;
                for(int i=0;i<n;i++){
                    for(int j=0;j<n;j++){
                        cin>>A[i][j];
                    }
                }
            cout<<"A matriz inserida e:"<<endl;
                for(int i=0;i<n;i++){
                    for(int j=0;j<n;j++){
                        cout<<A[i][j]<<" ";
                    }
                    cout<<endl;
                }
            cout<<"Entrando na matriz B"<<endl;
            
            B(A,n);


    }
